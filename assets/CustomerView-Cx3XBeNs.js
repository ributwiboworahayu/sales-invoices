import{r as d,b as _,d as u,c as o,a as t,f as h,w as p,F as m,e as g,h as v,i as y,j as b,z as f,o as n,q as x,t as s}from"./index-IiPDjdcb.js";const w={class:"container d-flex justify-content-center align-items-center mt-2"},k={class:"card col-lg mx-2 my-2 shadow"},A={class:"mx-2 mt-2"},C=t("i",{class:"bi bi-plus"},null,-1),L={class:"card mx-2 my-2"},D={class:"card-body"},N={class:"container mt-3"},B={class:"table-responsive"},S={class:"table table-hover"},V=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"ID"),t("th",{scope:"col"},"Name"),t("th",{scope:"col"},"Email"),t("th",{scope:"col"},"Phone"),t("th",{scope:"col"},"Address"),t("th",{scope:"col"},"Created At"),t("th",{scope:"col"},"Updated At")])],-1),z={key:0},U=t("td",{colspan:"7",class:"text-center align-middle"},[t("div",{class:"spinner-border text-primary",role:"status"},[t("span",{class:"visually-hidden"},"Loading...")])],-1),j=[U],R={__name:"CustomerView",setup(E){const l=d([]),c=d(!0),i=async()=>{await v.get(`${y}customers`,{headers:{Authorization:`Bearer ${b.get("token")}`}}).catch(a=>{console.log(a),a.response.status===401?(alert("Unauthorized. Please login again"),f.push("/login")):alert("Something went wrong: "+a)}).then(a=>{l.value=a.data.data}).finally(()=>{c.value=!1})};return _(()=>{i()}),(a,F)=>{const r=u("RouterLink");return n(),o("div",w,[t("div",k,[t("div",A,[h(r,{class:"btn btn-outline-secondary",to:"/customers/add"},{default:p(()=>[C,x(" Add New Customer ")]),_:1})]),t("div",L,[t("div",D,[t("div",N,[t("div",B,[t("table",S,[V,t("tbody",null,[c.value?(n(),o("tr",z,j)):(n(!0),o(m,{key:1},g(l.value,e=>(n(),o("tr",{key:e.id},[t("td",null,s(e.id),1),t("td",null,s(e.name),1),t("td",null,s(e.email),1),t("td",null,s(e.phone),1),t("td",null,s(e.address),1),t("td",null,s(new Date(e.created_at).toLocaleString()),1),t("td",null,s(new Date(e.updated_at).toLocaleString()),1)]))),128))])])])])])])])])}}};export{R as default};
