import{r as u,b as v,o as n,c as o,a as t,t as e,F as y,e as p,h as b,i as g,j as f,u as k,d as x,f as m,w as I,q as w}from"./index-p6QySOCE.js";const N={class:"container mt-4"},$={key:0,class:"d-flex justify-content-center align-items-center",style:{height:"100vh"}},B=t("div",{class:"spinner-border text-primary",role:"status"},[t("span",{class:"visually-hidden"},"Loading...")],-1),C=[B],q={key:1},R={class:"row"},A={class:"col-6"},S={class:"text"},L=t("hr",{class:"hr hr-blurry"},null,-1),P={class:"table"},Q=t("th",null,"Date",-1),T=t("th",null,"Return",-1),V=t("th",null,"Customer Name",-1),j=t("th",null,"Sales Person",-1),D=t("th",null,"Created By",-1),U=t("th",null,"Remarks",-1),F=t("hr",{class:"hr hr-blurry"},null,-1),M={class:"table-responsive"},z={class:"table"},E=t("thead",null,[t("tr",null,[t("th",null,"Item Code"),t("th",null,"Item Name"),t("th",null,"Warehouse"),t("th",null,"Qty"),t("th",null,"UOM"),t("th",null,"Price"),t("th",null,"Discount"),t("th",null,"Total")])],-1),O=t("td",{colspan:"3",class:"text-center"},"Total Qty :",-1),W=t("td",{colspan:"2"},null,-1),G=t("td",null,"Amount :",-1),H=t("td",{colspan:"6"},null,-1),J=t("td",null,"Discount :",-1),K=t("td",{colspan:"6"},null,-1),X=t("td",null,"Total :",-1),Y={__name:"InvoiceDetails",props:{invoiceId:{type:String,required:!0}},setup(r){const c=r,d=u([]),l=u({}),i=u(!0),_=async h=>{try{console.log("invoiceId",h);const s=await b.get(`${g}invoices/${h}`,{headers:{Authorization:`Bearer ${f.get("token")}`}});s.data.status==="success"?(d.value=s.data.data.items.map(a=>({itemCode:a.item_code,itemName:a.item_name,warehouse:a.warehouse,qty:a.quantity,uom:a.uom,price:a.price,discount:a.discount,total:a.total})),l.value={status:s.data.data.status,date:s.data.data.date,return:s.data.data.return,customerName:s.data.data.customer_name,salesPerson:s.data.data.sales_person,createdBy:s.data.data.created_by,remarks:s.data.data.remarks,totalQty:s.data.data.total_quantity,totalDiscount:s.data.data.total_discount,totalAmount:s.data.data.total_amount,totalNet:s.data.data.total_net}):alert(s.data.message)}catch(s){console.log(s),alert("Something went wrong: "+s)}finally{i.value=!1}};return v(()=>{_(c.invoiceId)}),(h,s)=>(n(),o("div",N,[i.value?(n(),o("div",$,C)):(n(),o("div",q,[t("div",R,[t("div",A,[t("h4",S,[t("strong",null,"Invoice Number: "+e(r.invoiceId.replace(/_/g,"/")),1)]),t("p",null,[t("strong",null,"Status: "+e(l.value.status),1)])])]),L,t("table",P,[t("tbody",null,[t("tr",null,[Q,t("td",null,": "+e(l.value.date),1)]),t("tr",null,[T,t("td",null,": "+e(l.value.return),1)]),t("tr",null,[V,t("td",null,": "+e(l.value.customerName),1)]),t("tr",null,[j,t("td",null,": "+e(l.value.salesPerson),1)]),t("tr",null,[D,t("td",null,": "+e(l.value.createdBy),1)]),t("tr",null,[U,t("td",null,": "+e(l.value.remarks),1)])])]),F,t("div",M,[t("table",z,[E,t("tbody",null,[(n(!0),o(y,null,p(d.value,a=>(n(),o("tr",{key:a.itemCode},[t("td",null,e(a.itemCode),1),t("td",null,e(a.itemName),1),t("td",null,e(a.warehouse),1),t("td",null,e(a.qty),1),t("td",null,e(a.uom),1),t("td",null,e(a.price),1),t("td",null,e(a.discount),1),t("td",null,e(a.total),1)]))),128)),t("tr",null,[O,t("td",null,e(l.value.totalQty),1),W,G,t("td",null,e(l.value.totalAmount),1)]),t("tr",null,[H,J,t("td",null,e(l.value.totalDiscount),1)]),t("tr",null,[K,X,t("td",null,e(l.value.totalNet),1)])])])])]))]))}},Z={class:"container d-flex justify-content-center align-items-center mt-2"},tt={class:"card col-lg mx-2 my-2 shadow"},et={class:"mx-2 mt-2"},st=t("i",{class:"bi bi-arrow-left"},null,-1),at={class:"card mx-2 my-2"},lt={class:"card-body"},ot={__name:"InvoiceDetailsView",setup(r){const c=k(),d=u(c.currentRoute.value.params.invoiceId);return(l,i)=>{const _=x("RouterLink");return n(),o("div",Z,[t("div",tt,[t("div",et,[m(_,{class:"btn btn-outline-secondary",to:"/invoices"},{default:I(()=>[st,w(" Back ")]),_:1})]),t("div",at,[t("div",lt,[m(Y,{invoiceId:d.value},null,8,["invoiceId"])])])])])}}};export{ot as default};
